/**
 * @file VSGAMExtremum.h
 * @brief Header file for class VSGAMExtremum
 * @date 06/04/2018
 * @author Andre Neto
 *
 * @copyright Copyright 2015 F4E | European Joint Undertaking for ITER and
 * the Development of Fusion Energy ('Fusion for Energy').
 * Licensed under the EUPL, Version 1.1 or - as soon they will be approved
 * by the European Commission - subsequent versions of the EUPL (the "Licence")
 * You may not use this work except in compliance with the Licence.
 * You may obtain a copy of the Licence at: http://ec.europa.eu/idabc/eupl
 *
 * @warning Unless required by applicable law or agreed to in writing, 
 * software distributed under the Licence is distributed on an "AS IS"
 * basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the Licence permissions and limitations under the Licence.

 * @details This header file contains the declaration of the class VSGAMExtremum
 * with all of its public, protected and private members. It may also include
 * definitions for inline methods which need to be visible to the compiler.
 */

#ifndef VSGAMEXTREMUM_H_
#define VSGAMEXTREMUM_H_ 

/*---------------------------------------------------------------------------*/
/*                        Standard header includes                           */
/*---------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------*/
/*                        Project header includes                            */
/*---------------------------------------------------------------------------*/

#include "GAM.h"

/*---------------------------------------------------------------------------*/
/*                           Class declaration                               */
/*---------------------------------------------------------------------------*/
namespace MARTe2Tutorial {
/**
 * @brief An example of a GAM which has fixed inputs and outputs.
 *
 * @details This GAM multiplies the input signal by a Gain.
 * The configuration syntax is (names and types are only given as an example):
 *
 * +GAMExample1 = {
 *     Class = VSGAMExtremum
 *     Gain = 5 //Compulsory
 *     InputSignals = {
 *         Signal1 = {
 *             DataSource = "DDB1"
 *             Type = uint32
 *         }
 *     }
 *     OutputSignals = {
 *         Signal1 = {
 *             DataSource = "DDB1"
 *             Type = uint32
 *         }
 *     }
 * }
 */
class VSGAMExtremum : public MARTe::GAM {
public:
    CLASS_REGISTER_DECLARATION()
    /**
     * @brief Constructor. NOOP.
     */
    VSGAMExtremum();

    /**
     * @brief Destructor. NOOP.
     */
    virtual ~VSGAMExtremum();

    /**
     * @brief Reads the Gain from the configuration file.
     * @param[in] data see GAM::Initialise. The parameter Gain shall exist and will be read as an uint32.
     * @return true if the parameter Gain can be read.
     */
    virtual bool Initialise(MARTe::StructuredDataI & data);

    /**
     * @brief Verifies correctness of the GAM configuration.
     * @details Checks that the number of input signals is equal to the number of output signals is equal to one and that the same type is used.
     * @return true if the pre-conditions are met.
     * @pre
     *   SetConfiguredDatabase() &&
     *   GetNumberOfInputSignals() == GetNumberOfOutputSignals() == 1 &&
     *   GetSignalType(InputSignals, 0) == GetSignalType(OutputSignals, 0) == uint32 &&
     *   GetSignalNumberOfDimensions(InputSignals, 0) == GetSignalNumberOfDimensions(OutputSignals, 0) == 0 &&
     *   GetSignalNumberOfSamples(InputSignals, 0) == GetSignalNumberOfSamples(OutputSignals, 0) == 1 &&
     *   GetSignalNumberOfElements(InputSignals, 0) == GetSignalNumberOfElements(OutputSignals, 0) == 1
     */
    virtual bool Setup();

    /**
     * @brief Multiplies the input signal by the Gain.
     * @return true.
     */
    virtual bool Execute();

private:

    /**
     * The input signal
     */
    MARTe::float64 *pf_voltages; 
    MARTe::float64 *vs3;
    MARTe::float64 *pf_currents;
    MARTe::float64 *ivs3;
    MARTe::float64 *ip;
    MARTe::float64 *zc;
    // Unified input signal
    MARTe::float64 u[26] = {0.0};

    /**
     * The output signal
     */
    MARTe::float64 *vs3_ref;

    /**
     * Constants
     */
    MARTe::float64 k;
    MARTe::float64 omega;
    MARTe::float64 alpha;
    MARTe::float64 A[25][25] = {
        { 0.999997950403476, 3.20214157874837e-06, -5.72424020021364e-06, -7.09350175319937e-06, 5.75310265861838e-10, 2.30789826413844e-05, -9.67981174477396e-06, -9.53086218543819e-06, 6.17865932858422e-06, -4.30904360260538e-06, -5.07906472007956e-06, -1.05047140466560e-05, -1.62803588602736e-05, -7.58838888586770e-06, 8.05483475411697e-05, -1.10944031387965e-05, -6.68412338665774e-06, 3.26622504466999e-05, -2.47367963412320e-06, -3.49478806281986e-05, -4.77367946055197e-06, 1.40032277162593e-05, -1.81525486301532e-05, 1.17604793528723e-05, 1.25378963101194e-05 },
        { 3.20095233248169e-06, 0.999994997678593, 8.94164963450363e-06, 1.10804341028029e-05, -8.98665783979552e-10, -3.60506570613161e-05, 1.51202619714748e-05, 1.48876942949925e-05, -9.65144010116300e-06, 6.73096942208998e-06, 7.93365135050470e-06, 1.64089352762129e-05, 2.54308017865197e-05, 1.18534719757543e-05, -0.000125820805831611, 1.73300592414363e-05, 1.04409463276466e-05, -5.10203507242725e-05, 3.86400639642846e-06, 5.45905111440191e-05, 7.45673023482899e-06, -2.18738097638076e-05, 2.83552795914542e-05, -1.83706530680229e-05, -1.95848840482050e-05 },
        { -5.72109268939019e-06, 8.94005329465104e-06, 0.999984018117108, -1.98042703512414e-05, 1.60620159169243e-09, 6.44339547748123e-05, -2.70247799512942e-05, -2.66089727773626e-05, 1.72501430427903e-05, -1.20303893667948e-05, -1.41799157103735e-05, -2.93281126780683e-05, -4.54529336866302e-05, -2.11859163808596e-05, 0.000224881835336518, -3.09742464508603e-05, -1.86612393120303e-05, 9.11894313552580e-05, -6.90620495570571e-06, -9.75705974829552e-05, -1.33275898227630e-05, 3.90954833851957e-05, -5.06798405758610e-05, 3.28339602244002e-05, 3.50044743223497e-05 },
        { -7.09219870771058e-06, 1.10825146100659e-05, -1.98115258060467e-05, 0.999975449256759, 1.99112672959865e-09, 7.98755365714731e-05, -3.35012114098578e-05, -3.29858449019771e-05, 2.13841736177802e-05, -1.49135318706505e-05, -1.75781339856210e-05, -3.63564323697981e-05, -5.63456873982102e-05, -2.62631161967789e-05, 0.000278774622512522, -3.83972497984308e-05, -2.31334139202657e-05, 0.000113042863494427, -8.56128692719423e-06, -0.000120953307008643, -1.65215394663713e-05, 4.84647258235571e-05, -6.28252097260684e-05, 4.07026478010741e-05, 4.33932970804640e-05 },
        { -9.10146182372736e-13, 1.42208846807795e-12, -2.54219829573972e-12, -3.15061273974910e-12, 0.999999999600000, 1.02506555456777e-11, -4.29955707535702e-12, -4.23301865264668e-12, 2.74427308768560e-12, -1.91421461075576e-12, -2.25585435965506e-12, -4.66532382460282e-12, -1.00569440742261e-12, -3.03756648240997e-12, 3.95319785129189e-11, -8.69873761159853e-12, 4.18008305988178e-12, 3.69138209781580e-11, 2.13332143337093e-11, 2.64442759112940e-11, 8.30870465799185e-12, -1.90314460040278e-11, 1.27404137283502e-11, 5.92019842375787e-11, -6.43191602466217e-12 },
        { 2.30729120967648e-05, -3.60545648406459e-05, 6.44524458427314e-05, 7.98691982729665e-05, -6.47769782046587e-09, 0.999740141938561, 0.000108988891699883, 0.000107312252963672, -6.95686955724151e-05, 4.85178992150472e-05, 5.71866599207118e-05, 0.000118277882934334, 0.000183308439348518, 8.54413108177100e-05, -0.000906932583759241, 0.000124917118083774, 7.52595402170636e-05, -0.000367760532817327, 2.78522852225402e-05, 0.000393495283445994, 5.37491871935896e-05, -0.000157669282470365, 0.000204388278126724, -0.000132417280241711, -0.000141170449323192 },
        { -9.67912490905893e-06, 1.51248063036960e-05, -2.70377291259596e-05, -3.35049890162119e-05, 2.71738305934402e-09, 0.000109009831490457, 0.999954278809656, -4.50173672295607e-05, 2.91840055549174e-05, -2.03533230361190e-05, -2.39897796077859e-05, -4.96170745855428e-05, -7.68975713745055e-05, -3.58424867392299e-05, 0.000380456672205273, -5.24025134444613e-05, -3.15712203956611e-05, 0.000154274880558035, -1.16839880452356e-05, -0.000165070600429881, -2.25476984892679e-05, 6.61420258990399e-05, -8.57404962704977e-05, 5.55487618062945e-05, 5.92207931385929e-05 },
        { -9.52661475034017e-06, 1.48865882972139e-05, -2.66117469813025e-05, -3.29772024666912e-05, 2.67457856127940e-09, 0.000107292650592061, -4.50004982317173e-05, 0.999955691399308, 2.87241574608502e-05, -2.00326076709728e-05, -2.36119186886064e-05, -4.88358454901131e-05, -7.56862858903535e-05, -3.52778893263608e-05, 0.000374463669008469, -5.15770851219345e-05, -3.10739748460485e-05, 0.000151844722673223, -1.14999631208719e-05, -0.000162470358350768, -2.21925053769622e-05, 6.51001042183269e-05, -8.43899466560443e-05, 5.46737846620459e-05, 5.82878731886389e-05 },
        { 6.17882661419713e-06, -9.65528727877625e-06, 1.72601006006479e-05, 2.13886815872583e-05, -1.73470198802344e-09, -6.95888832992659e-05, 2.91868666783613e-05, 2.87377422153130e-05, 0.999981369323748, 1.29929725385983e-05, 1.53142433493724e-05, 3.16742953025623e-05, 4.90892840525634e-05, 2.28808457470428e-05, -0.000242873041541873, 3.34523284111939e-05, 2.01541813678354e-05, -9.84847940554965e-05, 7.45876165456723e-06, 0.000105376521373190, 1.43938482071529e-05, -4.22232556987672e-05, 5.47343908132703e-05, -3.54607821813312e-05, -3.78048981338201e-05 },
        { -4.30949824286159e-06, 6.73418061219815e-06, -1.20382779726647e-05, -1.49178457031179e-05, 1.20989397139963e-09, 4.85357847517676e-05, -2.03569148884234e-05, -2.00436537344292e-05, 1.29939915847167e-05, 0.999990937557170, -1.06813090458091e-05, -2.20915679281381e-05, -3.42380448846910e-05, -1.59585940995720e-05, 0.000169395369567923, -2.33318127641116e-05, -1.40568486155242e-05, 6.86896776209531e-05, -5.20221953525701e-06, -7.34964108346685e-05, -1.00391919633631e-05, 2.94492111347289e-05, -3.81753094297763e-05, 2.47326389579821e-05, 2.63675775889041e-05 },
        { -5.07654544223654e-06, 7.93266221242938e-06, -1.41806794737476e-05, -1.75726428874958e-05, 1.42521165913841e-09, 5.71733326640681e-05, -2.39795817098784e-05, -2.36107288732742e-05, 1.53062326943182e-05, -1.06748846585760e-05, 0.999987417242024, -2.60233566390338e-05, -4.03312068279879e-05, -1.87986318116990e-05, 0.000199541698560055, -2.74840837724550e-05, -1.65585038329345e-05, 8.09140423929436e-05, -6.12800805327370e-06, -8.65761156205692e-05, -1.18257823545331e-05, 3.46901091383267e-05, -4.49691225375829e-05, 2.91341878543540e-05, 3.10600849917055e-05 },
        { -1.04988619700476e-05, 1.64058783325434e-05, -2.93277535178216e-05, -3.63428195118670e-05, 2.94754047873301e-09, 0.000118242840705329, -4.95931427730769e-05, -4.88302384629383e-05, 3.16557843670801e-05, -2.20770669697094e-05, -2.60216455112488e-05, 0.999946180009517, -8.34106619219644e-05, -3.88782765415030e-05, 0.000412680651394257, -5.68409211046186e-05, -3.42452778933285e-05, 0.000167341708266246, -1.26736021871465e-05, -0.000179051768433364, -2.44574425402545e-05, 7.17441087781965e-05, -9.30025886178467e-05, 6.02536701951191e-05, 6.42366585047510e-05 },
        { 2.07612935329019e-11, -3.57523268240728e-11, 6.43706180788867e-11, 7.94310112213535e-11, -6.52828094434621e-15, -2.62479520296378e-10, 1.09498340454057e-10, 1.05277012525799e-10, -6.76090050689612e-11, 5.14311928294073e-11, 5.48869072429572e-11, 1.18564069872826e-10, 0.999997422164077, -3.86451537092372e-08, -3.77864767988274e-08, 6.35935358442784e-09, -3.53889863532206e-08, 1.15633963996441e-08, 3.72696370074398e-08, -2.64910931414070e-08, 6.43288689412428e-08, -8.49166048604920e-09, 6.67233018153069e-09, 1.13227668323056e-07, 5.98259175544805e-09 },
        { -3.30604783222874e-14, 2.00755420835435e-15, 2.25234422234618e-15, 1.51455255173928e-15, 9.06935732658836e-17, -5.44344024327906e-14, 1.46830050190431e-14, -2.29103696799333e-14, 2.42360429398491e-14, 4.63728747372648e-14, -3.01518580050288e-14, 1.11133305532033e-14, -3.76950022856100e-08, 0.999718910219469, -3.54618362087935e-05, -2.80339398893789e-05, 2.10533751304358e-05, 2.34196291601215e-06, -1.91273872872590e-05, 1.83193583229460e-05, -2.09272562396186e-05, 6.90707266377151e-08, -1.55570225605434e-05, -0.000110839719551658, -3.17734076681930e-06 },
        { -3.30257502694246e-14, 7.61919627405475e-15, -6.97874702884828e-15, -1.31057813119014e-14, 1.36282351128642e-17, -9.72589924752102e-15, -3.41237885803144e-15, -3.73744148267318e-14, 3.27964917091777e-14, 3.39880878027460e-14, -3.60590300138896e-14, -7.56232320400644e-15, -3.41733761769173e-08, -3.79009069601728e-05, 0.999380900966859, -8.44731357952518e-05, 0.000128883801088673, -3.33875597689848e-05, 6.20794492721976e-05, 2.74346358990720e-05, 9.65504336644519e-05, 2.29565659150717e-05, 4.29910112935160e-06, 2.88482588427135e-05, -2.01499447846379e-06 },
        { 1.83322025439142e-14, -4.08787797495407e-15, 5.29276424185127e-15, 8.45663090536009e-15, 2.39965626879124e-16, 4.08987759594721e-15, 3.44888724331181e-15, 2.17278145254658e-14, -1.83383055127234e-14, -1.87899855061923e-14, 2.05043562625438e-14, 5.09040631041892e-15, 1.92259833196668e-08, -3.17673815917839e-05, -6.68891392153516e-05, 0.999000633195814, -3.51383594058255e-05, 9.51397636960408e-05, -4.00266151488934e-05, 0.000408071713348238, -0.000650356818855927, -9.06027889010838e-06, -1.59220914984829e-05, -0.00105922192789644, -5.48081769505292e-05 },
        { -1.62779015022558e-14, 3.25255858314814e-15, -3.25313687469722e-15, -6.26661053493582e-15, 2.95693329589669e-16, -7.82869865355309e-15, -8.79895646883284e-16, -1.81683260608692e-14, 1.60243870519017e-14, 1.78406661244378e-14, -1.71342496491133e-14, -2.89319665780342e-15, -1.74075533833732e-08, 1.90784745435135e-05, 0.000175325113524158, 7.08583826577127e-06, 0.998325541691525, 0.000594842069169216, -0.000670185243088310, 0.000237958500440223, -0.00167226069390597, -7.89498843784330e-05, -0.000438842890797466, -0.00215313471585353, 6.01920654349238e-05 },
        { -2.77022402556929e-15, 1.07416070706683e-15, -1.19722092217460e-15, -1.90658808223245e-15, -1.40484668552687e-16, 2.80629609486706e-15, -1.60511270519548e-15, -3.55336504738723e-15, 2.88890887712283e-15, 1.71946468149605e-15, -3.67910235379579e-15, -1.80132557018320e-15, -2.30108735189468e-09, 2.59780911825725e-07, -8.40179672038907e-05, -4.47515854662525e-06, 0.000538412596795240, 0.998726000172689, 0.000319153400559240, -0.000496043637293889, 0.00137441815198987, 0.000164739596456894, 0.000272681768540330, 0.00243940811246827, -5.52698781857488e-05 },
        { 3.49372186910754e-14, -8.75849301771702e-15, 9.64119599603863e-15, 1.64011124703736e-14, 2.52462394290010e-16, 3.07776094501179e-15, 6.67320681851430e-15, 4.14557019252463e-14, -3.57950255154825e-14, -3.44445334114526e-14, 3.93714474565903e-14, 1.13148472406437e-14, 3.57698949754383e-08, -1.26121099790126e-05, 9.18191742634152e-05, -6.61972126442587e-05, -0.000733632338482144, 0.000334651667938020, 0.998221479456903, -0.000602793844411330, -0.00198989998398335, -2.55941152183571e-05, 6.40898812925570e-05, -3.43467736700538e-05, -0.000372387743258353 },
        { -6.87432731509074e-14, 1.70864870658287e-14, -1.65188083173510e-14, -3.07612748612035e-14, -1.93903071385801e-16, -1.13548068514087e-14, -1.08466136880526e-14, -8.06188818230619e-14, 7.04446685465323e-14, 6.85492226967447e-14, -7.63544006044982e-14, -1.92053956023633e-14, -7.08138378691761e-08, 1.60053405382176e-05, -7.57426252968701e-05, 0.000205460983591323, 6.93068145123501e-05, -0.000567299844648603, -0.000533257120809731, 0.997030364645328, 0.00180613066239914, 0.000491159786348843, 0.000522401959782595, 0.00509514274577720, -3.83428592229079e-05 },
        { 1.01523978352958e-13, -2.75533106095690e-14, 2.82877306614768e-14, 4.99189635028960e-14, 1.20037787215023e-15, -2.40743776404484e-16, 2.20923605540934e-14, 1.24191089904990e-13, -1.06823953398908e-13, -9.71231103716062e-14, 1.15444792537504e-13, 3.62552925559429e-14, 1.03242029248393e-07, -1.35629206394442e-05, 0.000206929588896220, -0.000541687623323207, -0.00178891848377719, 0.00138162823856590, -0.00211148881370595, 0.00132064520427096, 0.990305151087777, -0.000152395592191132, -0.000606277358064920, -0.00454675573884229, -0.000430321562236986 },
        { -2.26880559425099e-14, 5.22980453297351e-15, -5.91463407396264e-15, -9.86074377647191e-15, -2.93100569362794e-16, -6.07199774667696e-15, -3.70572557010601e-15, -2.73819461433179e-14, 2.28888509419348e-14, 2.33456956743141e-14, -2.48733474195370e-14, -6.16411646770775e-15, -2.37804959652674e-08, 2.57174742418874e-06, 6.88682276594492e-06, -3.57920054351891e-05, -1.50788426887177e-05, 1.33799138573098e-05, -0.000111204692989561, 0.000208596482651849, -0.000487482014297631, 0.998202528012176, 0.00128378980783419, 0.000370412770725888, -0.000814067858213651 },
        { -2.05183604173418e-15, -1.00382696810566e-16, 8.86406619567223e-16, 6.45278866383027e-16, 3.78205147294155e-16, -5.25114409069319e-15, 2.13218241523088e-15, -3.42948087729858e-16, 1.17928422525487e-15, 3.45636034917158e-15, -1.40407831240265e-15, 1.55424651365662e-15, -2.40941393635943e-09, -6.28577287259298e-06, 2.51886731973509e-05, 4.56749787980624e-05, -0.000431958234359468, 0.000105596523764564, 1.24786593572018e-05, 0.000260187773877393, -4.25194042977098e-05, 0.00133348415849739, 0.996395922647121, -0.000821476288941562, 0.000401531257503825 },
        { 7.74508997081669e-14, -1.85640139603441e-14, 1.76205227735686e-14, 3.34007032129924e-14, 7.94547958768919e-17, 1.73987117142924e-14, 1.06809249085698e-14, 8.94872272813270e-14, -7.82340053442472e-14, -7.81692929011121e-14, 8.53478481782317e-14, 1.98395465796101e-14, 7.98935001702773e-08, -2.21692649367723e-05, 0.000127350525418193, 9.62891006565480e-06, -0.000105897405988234, 0.000592321948701174, 0.000254933741238585, 0.00152347507994025, -0.00113929808675496, -0.000569748365421130, 0.000242366706108759, 0.993201817807947, 0.000335821371970606 },
        { -2.85845973459518e-15, 3.68680352693792e-16, -9.66238236182313e-16, -1.06392734142155e-15, 1.44922361818656e-16, -1.02550251651611e-15, -7.66929462515507e-16, -3.71272500832859e-15, 2.53908130411429e-15, 2.98722461286844e-15, -2.96179324716698e-15, -8.27611975466668e-16, -2.96261575219234e-09, -1.31834394942567e-06, 1.35464390154167e-05, -5.09116699633336e-05, -0.000119487017394911, 2.54944477976083e-05, -0.000243800783037069, -4.28263620093821e-05, -0.000447213617150436, -0.000160075296834823, -6.46201233504674e-05, 0.000231962274770633, 0.999102344761092 }
    }; 
    MARTe::float64 B[25][26] = {
        { -2.27943130367076e-06, 1.97523863604110e-07, -4.35945099301950e-06, -2.73330433576184e-06, -1.84838142283100e-05, -5.28807064194631e-06, 6.98925985677900e-06, -1.88023379705093e-06, -9.16832768695782e-06, 6.38174741951565e-07, 1.04200583737323e-05, -4.82709211398575e-05, -8.90428681243628e-12, 1.33953198030585e-10, -8.76370889365387e-11, 3.43941466491352e-11, -6.54149547375608e-11, 8.97640732330892e-11, 2.88269470558812e-10, 4.41321177073456e-11, -1.11999771193751e-10, -4.74316158049457e-11, 1.54049473350280e-11, 4.73722246815769e-09, -2.54413882920023e-07, -1.94020421992024e-13 },
        { -1.26200434842157e-08, 1.53214583671143e-05, -2.45491926179428e-05, -6.01464853078217e-07, 2.24692369368115e-05, -2.10680050573324e-05, 4.89126464435269e-06, 8.92993858548753e-06, -3.97465660196453e-06, -1.38807761962277e-06, -1.59976734962065e-06, 7.54017799683437e-05, -3.30410076305059e-11, -1.79923810673923e-10, 3.94961610642488e-11, -9.05242477844535e-11, 6.67973235498945e-11, -2.21278785890193e-10, -4.30085615296757e-10, -6.55097822535537e-11, 7.90886943822271e-11, 7.40907403136092e-11, 3.12830778151720e-11, -7.39979551094862e-09, 3.97408244122861e-07, 3.01175871960638e-13 },
        { -7.27814886815557e-06, 2.32840418424127e-05, 1.49544508439160e-05, -7.86297109716980e-06, -9.62374453644239e-06, 3.21863616798115e-06, -1.31825674325057e-05, 4.21398712323518e-06, 1.95745940149579e-06, -2.96547801906916e-06, 1.29254542341017e-05, -0.000134767007771717, 3.15093248518123e-11, 4.54298910980664e-10, -1.33802287959517e-10, 1.67781163328050e-10, -4.71875894877916e-11, 3.05845377003992e-10, 7.69470220247156e-10, 1.76178776308818e-10, -1.30474704162908e-10, -1.32423725748313e-10, -4.14433369410354e-12, 1.32257859180108e-08, -7.10294943912908e-07, -5.38135919173994e-13 },
        { -7.87220837882726e-07, -3.44861615666667e-06, 2.83756381685037e-05, 2.52080262830888e-06, -6.22670853936142e-06, -2.64701797363997e-05, -6.30056247127262e-06, -1.93066236565624e-06, -1.68366174323651e-06, 4.71873584145502e-06, -6.83990513820697e-07, -0.000167063739619089, 7.43302547393985e-11, 4.78576564363638e-10, -1.30506442643176e-10, 1.93238710839742e-10, -4.57735821793498e-11, 2.99431919211603e-10, 9.42601959543509e-10, 1.90375902935433e-10, -2.16809110558782e-10, -1.64158900914683e-10, -7.61227861169888e-11, 1.63953384556900e-08, -8.80516543072857e-07, -6.65996122779448e-13 },
        { -2.44571964651776e-08, 8.29172757370023e-07, -2.05490849886038e-07, 4.36333298559488e-07, 1.37146727871891e-07, 9.47193000469679e-07, 2.71621980322605e-06, 1.26296861013895e-06, 3.09057439805008e-06, -1.88171296647417e-05, 2.96543012028299e-06, -1.60929099461314e-14, 4.18769778118049e-17, 7.71706237222384e-17, -4.26801046772416e-18, 4.58724084344534e-17, 6.44253823991738e-17, 6.32991709471697e-17, 1.48379424402986e-16, 4.09787821017065e-17, 3.03801295206652e-18, -9.99999927486379e-11, 3.40086704257769e-17, 2.10403418085702e-15, -3.78220050968304e-14, -4.26356795691475e-15 },
        { 1.01397904242771e-06, 2.28717561292119e-05, -2.61559459429261e-06, -1.36180592534902e-06, -1.66325050728977e-05, 3.25187339133233e-06, 3.24685137750387e-05, 2.67098014972251e-06, -3.40213676761187e-06, -7.82135002184255e-06, -3.00981754441073e-06, 0.000543505579815168, -1.60654619651222e-10, -1.52461819279513e-09, 6.52568417639529e-10, -6.42112021434893e-10, 1.09857419345010e-10, -1.18723679135444e-09, -3.09024866528634e-09, -6.42975555722168e-10, 6.20890695799879e-10, 5.34055280982360e-10, 2.18411142573865e-10, -5.33386673017553e-08, 2.86456908796052e-06, 2.17257752407199e-12 },
        { -1.95861831177798e-06, 1.53023188812260e-05, 2.96750203369390e-06, -1.77399068665098e-05, 1.43134855718247e-06, 5.24136493390740e-06, -1.44212831225999e-05, -7.54923250141763e-06, 4.88046360742796e-06, 6.64924144528141e-06, -1.01314232381324e-05, -0.000227999625473613, 7.52054160210642e-11, 6.90184728588276e-10, -2.71340514454287e-10, 1.95640557397756e-10, -6.53641056480390e-11, 5.10685119557257e-10, 1.27096293162829e-09, 2.54703462116286e-10, -2.60075344366323e-10, -2.24035244997050e-10, -1.39521364507053e-10, 2.23754804028382e-08, -1.20168175821414e-06, -9.12501397149954e-13 },
        { 1.16171120904739e-05, -7.60254712602745e-06, -5.38641736279498e-06, -5.80320704655596e-06, 3.39823799688032e-06, 3.01908302354566e-06, -9.28102468007244e-06, 8.39231896576238e-06, -5.47274332633142e-06, 1.78092188222065e-06, 3.87075719924184e-06, -0.000224408251911152, 1.58511415147537e-10, 6.44185366532592e-10, -2.77035505731887e-10, 2.42675256295015e-10, -5.63972256088739e-11, 5.01951987188040e-10, 1.30680027507065e-09, 2.94331525327545e-10, -2.72914112491371e-10, -2.20506284498027e-10, -7.96271296796125e-11, 2.20230169197561e-08, -1.18275283079573e-06, -8.98406353129600e-13 },
        { -4.23991620105752e-06, 1.23727335303821e-05, 5.06791972075816e-07, -2.91716528560013e-06, 1.55334403690149e-05, 1.30006826141400e-05, 2.56599630534593e-05, -8.99288253981004e-06, -7.71217309682149e-06, -9.83615920354619e-07, -2.70647537946845e-06, 0.000145548656726730, -6.35089424505984e-11, -3.95511003924026e-10, 1.92643139548737e-10, -1.67374496474518e-10, 8.85752247983226e-11, -2.85286563565601e-10, -7.85345637169064e-10, -2.06531724535190e-10, 1.18665883998810e-10, 1.43017947256968e-10, 5.87702215877639e-11, -1.42838865299791e-08, 7.67120389273557e-07, 5.80039715527801e-13 },
        { 4.14688876210731e-06, -8.44019636278117e-06, -3.01163574388064e-06, -5.11518768908724e-06, 6.65139637256590e-06, -5.90245462475506e-06, -2.66497405973239e-06, -1.98159399430498e-05, 1.27618837427306e-05, -9.21509296646178e-07, 1.28136307510147e-05, -0.000101515029711000, 5.47664681743778e-11, 2.71794153118677e-10, -1.21366033481247e-10, 7.58941782650320e-11, -1.42572087429114e-12, 2.07558501840871e-10, 5.62662236952872e-10, 6.70949323853100e-11, -8.39710535105852e-11, -9.97499060681739e-11, 1.41425979445363e-11, 9.96250949760122e-09, -5.35039496740734e-07, -3.99637480452114e-13 },
        { -3.42238532710489e-06, -5.98451652528353e-06, 9.71882479223471e-06, -6.77217983882180e-06, -2.21433069688814e-06, -9.62678311254202e-06, 9.87974901749570e-06, 2.77759254897885e-06, 4.46725387678273e-06, -4.43121852449851e-08, -8.80921554804755e-07, -0.000119581179231538, 1.56445983213701e-11, 3.24090582304475e-10, -1.25763463373426e-10, 9.51322578425719e-11, -3.57298276161131e-11, 2.41193617690223e-10, 7.50382570066278e-10, 1.63515136412177e-10, -9.81044003846643e-11, -1.17501911900328e-10, -5.52048964455998e-11, 1.17354794862884e-08, -6.30257456107768e-07, -4.78048678381051e-13 },
        { 2.83916425445672e-06, -1.21375726038152e-07, -3.23171589053733e-06, 5.97073725895922e-06, -3.55342441420849e-06, -1.28879427949996e-05, 8.24965310600566e-06, -1.65145487781807e-05, 9.77511337060252e-06, 4.01699401337965e-06, -2.07295599719513e-06, -0.000247310825119428, 9.31722987376913e-11, 7.12416031939647e-10, -2.97783733762146e-10, 2.89604982254481e-10, -7.15215692349989e-11, 5.29436442354093e-10, 1.41923195006537e-09, 2.73979862247366e-10, -2.70314202880196e-10, -2.43010662340281e-10, -1.07498286815707e-10, 2.42706416810793e-08, -1.30346207562717e-06, -9.88822637542315e-13 },
        { 4.44191049168300e-05, 8.82523838635095e-05, 2.51930337393194e-05, 4.08357460361855e-05, 2.29883079327728e-05, 8.61448173850134e-05, 0.000256605679460161, 0.000100709000421173, 2.74161680701877e-05, 1.27549268435386e-05, 2.18544203566753e-05, -1.46627949078787e-05, -2.33405508204162e-16, -1.56577954760757e-15, 6.46834601761278e-16, -5.80069031445193e-16, 2.94278257367601e-16, -1.14293714948270e-15, -3.20841167408490e-15, -7.65393751526283e-16, 6.44166661170645e-16, 5.38206967192131e-16, 2.37579926573507e-16, -5.37573740621342e-14, 2.88691315983272e-12, 2.19574086180648e-18 },
        { 2.91587557845835e-05, 3.62114817578696e-06, 1.56714650305161e-05, -6.03516248100410e-06, 3.70871860353419e-06, -1.91889685676856e-05, -8.50201171204867e-05, -6.17541494421085e-05, -7.23396994441664e-05, -3.41119081254268e-05, -3.08387718748448e-06, -0.000645911637858865, -1.60990147131242e-16, 7.35889982708924e-18, -2.77804110683786e-17, -3.20860443003977e-18, -3.74288248210403e-17, -1.38025455312746e-17, 1.97562248958502e-17, -3.97570923382744e-18, -3.14976511801902e-17, 2.28588303558426e-17, 5.67597699642004e-19, 3.95846154839201e-17, 2.46669221768737e-16, -1.41655791759097e-22 },
        { 6.26827501371543e-06, 7.80228718512290e-07, 1.22819936204202e-05, 2.01713968894245e-06, 6.78062898840468e-06, 6.49476790692649e-06, 1.63087016677522e-05, 5.29030489095469e-06, 7.30450507335765e-06, 1.20952783999660e-05, 8.76714707470850e-06, -0.000324022477774180, 1.25150488374777e-17, -1.29547173785815e-16, -1.37738216601893e-17, 1.50609445238458e-18, -2.47465689123209e-17, -1.02770294746138e-17, 6.93293536326750e-18, 4.30973024691502e-18, -1.40093830825247e-17, 3.41499759498136e-18, 9.81939753611949e-19, 3.85646764884296e-18, 1.05602466941613e-17, -8.89102050305037e-23 },
        { -1.41571104454529e-05, -2.74897003135177e-05, -2.92872486601979e-06, -1.30345518441648e-05, -3.36073385132764e-07, -1.05884086896877e-05, 1.23753685847149e-05, 4.28857347131943e-06, -4.21287899849909e-06, 9.69295802514860e-08, 1.68380435645327e-06, -0.000719999970948026, -6.69894758536878e-18, -3.01300473316313e-16, -4.92296628549253e-17, 1.90133614352216e-17, -7.36235851972847e-17, -4.01446613437706e-17, -5.29679388641067e-18, 1.47790059044462e-17, -1.02385312152215e-17, 5.99943659906688e-17, 2.46612178929660e-18, 4.04049145980978e-17, 3.93645966597107e-18, 4.14142050564334e-22 },
        { -2.97776131821854e-06, 1.66013274412977e-05, -2.05129079826277e-05, 1.09818636269091e-05, -8.78060476293674e-06, 1.65103823238877e-05, 8.58141446701111e-06, -1.56878639128954e-05, 6.81626170921701e-07, 1.11356612428394e-05, -5.06758855888402e-06, 0.00107296429161515, 1.24198820302043e-16, 1.24068915656826e-16, -3.72343587066220e-17, 4.67443736607434e-17, 1.56219502540866e-18, 3.90616661961376e-18, -3.56564080721830e-17, 4.80561855430501e-18, -8.04933531414748e-18, 7.39386020471643e-17, -1.47419396335248e-18, 9.46209472082850e-18, 2.03117799689005e-17, 3.42252903244943e-22 },
        { -6.14966301977565e-06, -7.64967743181360e-06, 1.74805333204678e-07, -5.57165450837174e-06, 3.10350785833879e-06, -6.43672002305967e-06, 1.41383838442057e-06, 1.44877804176863e-06, -5.20868867968990e-06, 3.06184083836022e-06, 5.54590963141503e-06, -0.000320868992594947, -1.40285149135389e-16, -7.27597533926194e-17, 3.23748988853932e-17, -3.51232592119956e-17, -4.47643814817629e-18, -1.57187913945276e-18, 3.75070347028480e-17, 2.16719187464286e-19, -1.87757637817597e-17, -3.51342028207860e-17, -4.94827712901916e-18, 4.69514861096679e-18, -1.73401617908637e-17, -6.15622741523588e-22 },
        { 2.37112645026651e-05, -3.47718862195883e-05, 5.91743273652697e-05, -2.22827768976199e-05, 2.09605873131065e-05, -3.20465959755559e-05, -7.41330872416726e-06, 3.22415853808374e-05, 6.22538795938360e-06, -1.67851201305753e-05, 1.04978342695667e-05, -0.000329795303122379, 1.32408896385979e-16, -5.05891685270415e-17, -4.46938706483349e-17, -4.66414810116994e-17, -2.70035615913355e-17, 1.65738766331657e-18, -3.02654773711790e-17, 1.76999792984978e-17, -2.23277430964380e-17, 6.31358508202707e-17, 1.00272187732057e-18, -2.87187223786720e-17, 2.69396607429856e-17, 4.34652201778504e-22 },
        { -1.96714298964316e-05, 3.39644900612318e-06, -2.26795886025084e-05, 1.79908016657185e-06, -4.96400302442513e-06, 6.28348133302883e-06, 1.11156496096322e-07, -1.12833128185989e-05, -1.30933861721649e-06, 1.48489533074109e-05, 2.38230796978315e-06, 0.000387037916551434, -1.82428574906985e-18, -2.69656350115209e-16, 1.05536055239003e-17, 2.06249096610661e-17, -5.04447549287555e-18, -2.64160221115850e-18, -5.54807626463911e-17, 7.92664398668428e-19, 2.56579823937255e-17, -4.84947757858979e-17, 5.52674829469138e-18, 1.00717514043278e-17, -2.52844221499070e-17, 5.13273722754470e-22 },
        { -7.23473619643929e-06, 9.81771992207582e-07, -8.04328199100812e-06, 2.76866762664725e-06, -1.15960406938490e-06, 2.00806546147493e-06, -3.86416587631521e-06, -3.48457646862843e-06, -4.66132138182677e-07, 3.09286668841751e-06, 1.24933562514774e-06, 0.000411531660334006, 6.65026803908451e-17, 4.53000699489213e-16, -9.98677038006097e-17, -1.21692656412388e-16, 1.10006383523974e-17, -2.47797285652604e-18, -2.49208145648127e-17, 3.82730064972045e-17, -9.50755327974334e-17, 3.00191499332597e-16, -1.14463539982531e-18, 2.17366507547061e-19, 1.29071578355507e-16, 1.57301085207201e-21 },
        { -2.59442014902729e-05, -5.62448355936263e-05, 3.02901487809278e-05, -2.69707511236441e-05, 1.91138983170492e-05, -3.14998937643905e-05, 4.84854757300760e-06, 1.88144867112701e-05, -1.55419592689610e-05, -1.18077749524482e-05, 1.65413736650135e-05, -0.000674656011905190, 2.50894048688110e-16, 2.58018135002286e-16, 2.94875886400695e-18, -1.65220857582471e-17, 4.21578148855409e-18, 6.38209152476020e-17, 7.08431531677990e-19, 6.96192566373232e-18, -1.38753691223479e-17, -7.32757979569773e-17, -1.23551691444092e-17, -4.23651233475638e-17, -8.72213200903633e-19, -1.92751878001182e-21 },
        { -1.05786106454740e-05, -2.41149393242681e-05, 1.10310285705768e-05, -9.62390927689037e-06, 8.41905644236238e-06, -1.21721910306578e-05, -2.19882080573923e-06, 8.81255704912726e-06, -2.12525307598713e-06, -1.30293080577574e-06, 9.39454132867557e-06, -0.000887087049951004, -7.34419543343149e-17, -9.49170940471509e-17, -3.78041371432472e-17, 4.81056704549447e-17, -2.69746436188402e-17, -2.69987461658915e-17, -6.10950207875990e-18, 2.47340300954057e-18, -1.26536072800606e-17, 9.45719920506423e-17, 3.49244913821116e-18, 1.46308279189103e-17, 2.75422387837345e-17, 8.36311121495548e-22 },
        { -4.42668565794155e-06, 6.64637149104164e-06, -1.52491393932924e-05, 3.90531251630219e-06, -4.94498411061729e-06, 4.02329445607970e-06, 1.27886959373013e-06, -3.54943306876327e-06, 2.91566531802976e-06, 4.43870748832935e-06, -3.16419024325086e-06, 6.38054595555206e-05, -4.73069301845928e-17, 2.33362278453938e-16, 2.57473647269915e-17, 1.28483822246574e-17, 5.63955496669399e-17, 1.42047997756523e-17, 2.58214086476935e-17, -9.22734575254377e-18, 1.05551896150101e-17, 1.98676490586746e-17, -2.03176166328383e-18, 1.40139428010115e-17, 5.25443398815844e-18, 1.10268437627159e-22 },
        { 1.55166592596009e-05, 5.54470739047051e-05, -4.55587153417701e-05, 2.73849238087285e-05, -2.23878743444025e-05, 3.67148900146178e-05, -2.75626666526681e-06, -2.32091589189826e-05, 1.03407876419306e-05, 1.47940193952050e-05, -1.48461041491703e-05, 0.00100508415758919, 8.67536066295927e-17, 1.76047771657788e-16, -4.33853606575392e-17, -2.35066424215498e-17, 3.06189366788872e-17, 4.20795539775912e-17, 1.69299558429201e-17, 9.35858527009442e-18, -4.64909987088501e-17, 3.62318527953826e-17, -1.24889547268194e-17, 6.22606822429512e-17, 1.67910255467505e-18, -1.21770857280459e-21 }
    }; 
    MARTe::float64 C[25] = { -0.0645591581364312, 0.100844899764119, -0.180241966030979, -0.223436727872605, -4.45458805971931e-09, 0.726902865906009, -0.304934471111096, -0.300131198866989, 0.194661722361938, -0.135769687512363, -0.159931909169176, -0.330761886205054, 0.000126790439177518, 5.87563423659374e-05, -0.000623680083621033, 8.59031022715642e-05, 5.17545383099604e-05, -0.000252901821010851, 1.91534875959173e-05, 0.000270599128793990, 3.69622840086142e-05, -0.000108426143505068, 0.000140553873492388, -9.10607821334773e-05, -9.70802102500005e-05 };
    MARTe::float64 D[26] = { -1.14968918545862e-06, 8.45156403418838e-06, -6.20012597750975e-06, 3.18377584570515e-06, -1.65606217123348e-06, 6.27409933118728e-06, 1.78337126872479e-05, 4.18933042783461e-06, -4.64407412167927e-06, -5.16947168999811e-06, -2.35611439088464e-06, 0.000373758330034571, -1.32757692614610e-10, -1.06477317590860e-09, 4.37980940063493e-10, -4.19054367946597e-10, 9.66301099334641e-11, -8.08663477352639e-10, -2.12856057131939e-09, -4.41718874003786e-10, 4.19758034091123e-10, 3.67259546447609e-10, 1.49551006470842e-10, -3.66799746109973e-08, 1.96990902017511e-06, 1.49363536694316e-12 };

    /**
     * State
     */
    MARTe::float64 x_hat;
    MARTe::float64 state[25] = {0.0};

    /**
     * Utilty variable
     */
    MARTe::float64 temp_state[25] = {0.0};
    MARTe::float64 t;
};
}
/*---------------------------------------------------------------------------*/
/*                        Inline method definitions                          */
/*---------------------------------------------------------------------------*/

#endif /* VSGAMEXTREMUM_H_ */

