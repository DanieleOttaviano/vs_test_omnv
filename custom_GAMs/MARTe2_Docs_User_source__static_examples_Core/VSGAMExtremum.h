/**
 * @file VSGAMExtremum.h
 * @brief Header file for class VSGAMExtremum
 * @date 06/04/2018
 * @author Andre Neto
 *
 * @copyright Copyright 2015 F4E | European Joint Undertaking for ITER and
 * the Development of Fusion Energy ('Fusion for Energy').
 * Licensed under the EUPL, Version 1.1 or - as soon they will be approved
 * by the European Commission - subsequent versions of the EUPL (the "Licence")
 * You may not use this work except in compliance with the Licence.
 * You may obtain a copy of the Licence at: http://ec.europa.eu/idabc/eupl
 *
 * @warning Unless required by applicable law or agreed to in writing, 
 * software distributed under the Licence is distributed on an "AS IS"
 * basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the Licence permissions and limitations under the Licence.

 * @details This header file contains the declaration of the class VSGAMExtremum
 * with all of its public, protected and private members. It may also include
 * definitions for inline methods which need to be visible to the compiler.
 */

#ifndef VSGAMEXTREMUM_H_
#define VSGAMEXTREMUM_H_ 

/*---------------------------------------------------------------------------*/
/*                        Standard header includes                           */
/*---------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------*/
/*                        Project header includes                            */
/*---------------------------------------------------------------------------*/

#include "GAM.h"

/*---------------------------------------------------------------------------*/
/*                           Class declaration                               */
/*---------------------------------------------------------------------------*/
namespace MARTe2Tutorial {
/**
 * @brief An example of a GAM which has fixed inputs and outputs.
 *
 * @details This GAM multiplies the input signal by a Gain.
 * The configuration syntax is (names and types are only given as an example):
 *
 * +GAMExample1 = {
 *     Class = VSGAMExtremum
 *     Gain = 5 //Compulsory
 *     InputSignals = {
 *         Signal1 = {
 *             DataSource = "DDB1"
 *             Type = uint32
 *         }
 *     }
 *     OutputSignals = {
 *         Signal1 = {
 *             DataSource = "DDB1"
 *             Type = uint32
 *         }
 *     }
 * }
 */
class VSGAMExtremum : public MARTe::GAM {
public:
    CLASS_REGISTER_DECLARATION()
    /**
     * @brief Constructor. NOOP.
     */
    VSGAMExtremum();

    /**
     * @brief Destructor. NOOP.
     */
    virtual ~VSGAMExtremum();

    /**
     * @brief Reads the Gain from the configuration file.
     * @param[in] data see GAM::Initialise. The parameter Gain shall exist and will be read as an uint32.
     * @return true if the parameter Gain can be read.
     */
    virtual bool Initialise(MARTe::StructuredDataI & data);

    /**
     * @brief Verifies correctness of the GAM configuration.
     * @details Checks that the number of input signals is equal to the number of output signals is equal to one and that the same type is used.
     * @return true if the pre-conditions are met.
     * @pre
     *   SetConfiguredDatabase() &&
     *   GetNumberOfInputSignals() == GetNumberOfOutputSignals() == 1 &&
     *   GetSignalType(InputSignals, 0) == GetSignalType(OutputSignals, 0) == uint32 &&
     *   GetSignalNumberOfDimensions(InputSignals, 0) == GetSignalNumberOfDimensions(OutputSignals, 0) == 0 &&
     *   GetSignalNumberOfSamples(InputSignals, 0) == GetSignalNumberOfSamples(OutputSignals, 0) == 1 &&
     *   GetSignalNumberOfElements(InputSignals, 0) == GetSignalNumberOfElements(OutputSignals, 0) == 1
     */
    virtual bool Setup();

    /**
     * @brief Multiplies the input signal by the Gain.
     * @return true.
     */
    virtual bool Execute();

private:

    /**
     * The input signal
     */
    MARTe::float64 *pf_voltages; 
    MARTe::float64 *vs3;
    MARTe::float64 *pf_currents;
    MARTe::float64 *ivs3;
    MARTe::float64 *ip;
    MARTe::float64 *zc;
    // Unified input signal
    MARTe::float64 u[26] = {0.0};

    /**
     * The output signal
     */
    MARTe::float64 *vs3_ref;

    /**
     * Constants
     */
    MARTe::float64 k;
    MARTe::float64 omega;
    MARTe::float64 alpha;
    MARTe::float64 A[25][25] = {
        { 0.999995901814018, 6.40270948062215e-06, -1.14456672389603e-05, -1.41835174478861e-05, 1.15033779901792e-09, 4.61466232512015e-05, -1.93548664373942e-05, -1.90570405013353e-05, 1.23542821859372e-05, -8.61596953778191e-06, -1.01556334053262e-05, -2.10042656133559e-05, -3.25526750209617e-05, -1.51743218748348e-05, 0.000161007107381300, -2.21853322050706e-05, -1.33128776105242e-05, 6.52770798264409e-05, -4.89452765980926e-06, -6.97845056753117e-05, -9.51090014900681e-06, 2.79331500357774e-05, -3.62139991197340e-05, 2.34113415018706e-05, 2.50462409896787e-05 },
        { 6.40033157239180e-06, 0.999989997815354, 1.78789049599505e-05, 2.21554227952824e-05, -1.79688992431223e-09, -7.20835972611502e-05, 3.02330931724065e-05, 2.97680721346069e-05, -1.92981370714435e-05, 1.34586309341041e-05, 1.58634037607601e-05, 3.28098064819157e-05, 5.08490404449886e-05, 2.37031077110142e-05, -0.000251501670906028, 3.46546918054275e-05, 2.07954030354353e-05, -0.000101966627136429, 7.64548693960720e-06, 0.000109007234807167, 1.48565101359417e-05, -4.36331124123508e-05, 5.65682588464310e-05, -3.65700772528112e-05, -3.91236068596162e-05 },
        { -1.14393737624931e-05, 1.78757130625915e-05, 0.999968044088241, -3.95988080239152e-05, 3.21161382585236e-09, 0.000128836243888492, -5.40362787544453e-05, -5.32048687241067e-05, 3.44918086035286e-05, -2.40548664471711e-05, -2.83528627756043e-05, -5.86418122997167e-05, -9.08834130714059e-05, -4.23649761813116e-05, 0.000449513552006741, -6.19387937687897e-05, -3.71678942771234e-05, 0.000182246468413781, -1.36649100537768e-05, -0.000194830581770359, -2.65533910102630e-05, 7.79863062779791e-05, -0.000101105345484628, 6.53618812093615e-05, 6.99264437294826e-05 },
        { -1.41809119967910e-05, 2.21595827870895e-05, -3.96133153721991e-05, 0.999950910578629, 3.98127493255333e-09, 0.000159711818823021, -6.69859588515074e-05, -6.59554791178560e-05, 4.27578381294582e-05, -2.98197345785972e-05, -3.51476292940094e-05, -7.26949976018965e-05, -0.000112663539333153, -5.25177326341335e-05, 0.000557239185577852, -7.67824760207546e-05, -4.60751974514132e-05, 0.000225921604548633, -1.69397257321087e-05, -0.000241521562527928, -3.29168967344089e-05, 9.66757443354494e-05, -0.000125335132421613, 8.10259139855424e-05, 8.66843169799802e-05 },
        { -1.81984507494891e-12, 2.84347798597459e-12, -5.08314712295585e-12, -6.29967714306960e-12, 0.999999999200001, 2.04962735164968e-11, -8.59700130116331e-12, -8.46395695988722e-12, 5.48719752359792e-12, -3.82748865735654e-12, -4.51060010291403e-12, -9.32835472848623e-12, -2.00782928844964e-12, -6.07514309291370e-12, 7.90295240899446e-11, -1.73880541559829e-11, 8.34054841549657e-12, 7.38133019137550e-11, 4.26282405122387e-11, 5.28855276136219e-11, 1.65411829251560e-11, -3.80295206965046e-11, 2.54480099479193e-11, 1.18168880181299e-10, -1.28342704790995e-11 },
        { 4.61344851421752e-05, -7.20914108961134e-05, 0.000128873216946823, 0.000159699145335662, -1.29522122173477e-08, 0.999480411582514, 0.000217924221460492, 0.000214571767986321, -0.000139103202054100, 9.70119545934996e-05, 0.000114345215784159, 0.000236497639022677, 0.000366526322072130, 0.000170854969524877, -0.00181285645655570, 0.000249795120077076, 0.000149895652553717, -0.000734987128848674, 5.51097138048389e-05, 0.000785737885581988, 0.000107087868178747, -0.000314513183522291, 0.000407750838195304, -0.000263600324621531, -0.000282008162344038 },
        { -1.93534931053201e-05, 3.02421796070832e-05, -5.40621707528204e-05, -6.69935122163349e-05, 5.43343067789767e-09, 0.000217966090786074, 0.999908580088454, -9.00126109823730e-05, 5.83536688443015e-05, -4.06966436232557e-05, -4.79677696112493e-05, -9.92097650578493e-05, -0.000153757154398589, -7.16733734625313e-05, 0.000760490191878389, -0.000104788617757395, -6.28809139268863e-05, 0.000308325775566154, -2.31184347843785e-05, -0.000329615703243669, -4.49231903208452e-05, 0.000131937805717839, -0.000171050705696162, 0.000110579764051431, 0.000118302003914276 },
        { -1.90485477166676e-05, 2.97658606803730e-05, -5.32104157711113e-05, -6.59381984904460e-05, 5.34784271792515e-09, 0.000214532572870265, -8.99788812596894e-05, 0.999911404573597, 5.74341985786847e-05, -4.00553704537374e-05, -4.72122334853277e-05, -9.76476909708984e-05, -0.000151335181831066, -7.05443613644428e-05, 0.000748510851046518, -0.000103138019570759, -6.18905423092604e-05, 0.000303468988025322, -2.27543156819557e-05, -0.000324423496837256, -4.42155166617596e-05, 0.000129859416498903, -0.000168356384251864, 0.000108837965586525, 0.000116438362821208 },
        { 1.23546166747814e-05, -1.93058295361686e-05, 3.45117188301477e-05, 4.27668518538924e-05, -3.46855146765941e-09, -0.000139143567594154, 5.83593896788316e-05, 5.74613614162446e-05, 0.999962747803202, 2.59795597909945e-05, 3.06209605421063e-05, 6.33330244630649e-05, 9.81543173950933e-05, 4.57542863670038e-05, -0.000485475954203203, 6.68941816681925e-05, 4.01414111771646e-05, -0.000196826601930701, 1.47582229553257e-05, 0.000210417579583127, 2.86777642458329e-05, -8.42254774122898e-05, 0.000109194098292291, -7.05910410293297e-05, -7.55206907598646e-05 },
        { -8.61687859615963e-06, 1.34650517385288e-05, -2.40706397891805e-05, -2.98283601290423e-05, 2.41919334812161e-09, 9.70477168983490e-05, -4.07038255649734e-05, -4.00774571620378e-05, 2.59815973866918e-05, 0.999981879567853, -2.13573688615269e-05, -4.41722790185533e-05, -6.84591757503382e-05, -3.19120233793901e-05, 0.000338602333753198, -4.66563194854939e-05, -2.79972543908286e-05, 0.000137279627409270, -1.02933327003442e-05, -0.000146758847933742, -2.00017101668687e-05, 5.87442588939515e-05, -7.61590369339975e-05, 4.92347495667983e-05, 5.26730072373296e-05 },
        { -1.01505960863969e-05, 1.58614259690011e-05, -2.83543899273763e-05, -3.51366497929497e-05, 2.84972290703566e-09, 0.000114318567813256, -4.79473788163652e-05, -4.72098544377981e-05, 3.06049431652061e-05, -2.13445232382866e-05, 0.999974840667452, -5.20339243119525e-05, -8.06424895470962e-05, -3.75911796574657e-05, 0.000398861462313332, -5.49595612571599e-05, -3.29798421419721e-05, 0.000161710608909982, -1.21251368348995e-05, -0.000172876618624184, -2.35612458711313e-05, 6.91986193903398e-05, -8.97125684885492e-05, 5.79968216668566e-05, 6.20469619152708e-05 },
        { -2.09925643426400e-05, 3.28036941035852e-05, -5.86410941102784e-05, -7.26677785838879e-05, 5.89363240734401e-09, 0.000236427571751336, -9.91619133092768e-05, -9.76364796321183e-05, 6.32960117056211e-05, -4.41432843017577e-05, -5.20305028607888e-05, 0.999892386468436, -0.000166780117951406, -7.77439705691479e-05, 0.000824902310017623, -0.000113664043244037, -6.82068779998621e-05, 0.000334440459778251, -2.50765273410191e-05, -0.000357533530581623, -4.87280927685537e-05, 0.000143112645074078, -0.000185538445779071, 0.000119945727524764, 0.000128321912316314 },
        { 4.15111660131882e-11, -7.14867981613516e-11, 1.28709315859580e-10, 1.58822467807577e-10, -1.30533535421246e-14, -5.24830337525448e-10, 2.18942702052696e-10, 2.10500883171359e-10, -1.35183560836248e-10, 1.02838349276421e-10, 1.09745498313883e-10, 2.37069561141243e-10, 0.999994844334730, -7.72831588791777e-08, -7.55220967501289e-08, 1.26751504958301e-08, -7.08770896096048e-08, 2.32760126264189e-08, 7.44059641989264e-08, -5.26840878920589e-08, 1.27857280668328e-07, -1.70440325426489e-08, 1.33054759883687e-08, 2.25356879714484e-07, 1.19640378466613e-08 },
        { -6.61258130805273e-14, 4.02069103144636e-15, 4.49543927257492e-15, 3.01622140806204e-15, 1.81312554701106e-16, -1.08832772647367e-13, 2.93503701357667e-14, -4.58379500522380e-14, 4.84837514988045e-14, 9.27405613744549e-14, -6.03137316571050e-14, 2.22097450281321e-14, -7.53918966017722e-08, 0.999437905436417, -7.09082922523401e-05, -5.60142571003324e-05, 4.21343518614698e-05, 4.57895443367794e-06, -3.82233599025969e-05, 3.63831528778317e-05, -4.14662646618799e-05, 1.91358300276325e-07, -3.10675842402664e-05, -0.000220709538448947, -6.37621206372008e-06 },
        { -6.60216691838733e-14, 1.52313194556117e-14, -1.39510800546453e-14, -2.61995420965055e-14, 2.73893264954519e-17, -1.94439783357994e-14, -6.82148626697902e-15, -7.47150028738605e-14, 6.55632305784460e-14, 6.79456969918198e-14, -7.20852660987117e-14, -1.51174693772597e-14, -6.83159796556502e-08, -7.57648195820875e-05, 0.998762244719245, -0.000168858140520652, 0.000257236765957973, -6.64885416153585e-05, 0.000123705902398669, 5.49213913718750e-05, 0.000191790003521297, 4.58299433959094e-05, 8.51324501685133e-06, 5.69270608515759e-05, -4.08531973867728e-06 },
        { 3.64735967635154e-14, -8.12765021151528e-15, 1.05367344534179e-14, 1.68251663350210e-14, 4.78705556594034e-16, 8.15620405326316e-15, 6.86369204186983e-15, 4.32289513608193e-14, -3.64804212091772e-14, -3.73916539595120e-14, 4.07951893784298e-14, 1.01231864737624e-14, 3.82560671928475e-08, -6.34529769229915e-05, -0.000133986061821858, 0.998002698392804, -6.88053410158155e-05, 0.000188283915979326, -7.90005757883315e-05, 0.000812036895675201, -0.00129158184115282, -1.71930469075149e-05, -3.13922136850447e-05, -0.00210492260015461, -0.000109595172565591 },
        { -3.29077838589013e-14, 6.59685530544674e-15, -6.59805730722063e-15, -1.26986572194548e-14, 5.88304667283877e-16, -1.56824139446975e-14, -1.82750604550068e-15, -3.67579890068632e-14, 3.24131479332073e-14, 3.60232103941477e-14, -3.46651391619167e-14, -5.89942029580210e-15, -3.51739296396030e-08, 3.81975701024828e-05, 0.000349492416875787, 1.50852849635741e-05, 0.996658108223720, 0.00118396795097122, -0.00133504045456289, 0.000469355673721935, -0.00332058691738002, -0.000156514635242499, -0.000874750718852984, -0.00427758089371145, 0.000120319878777372 },
        { -5.17573634021759e-15, 2.05488403856793e-15, -2.30188836799796e-15, -3.64452481539162e-15, -2.78581842180807e-16, 5.65012351774115e-15, -3.14422639974079e-15, -6.67341968057403e-15, 5.40213417228303e-15, 3.08173781995915e-15, -6.94923265473997e-15, -3.49052785991100e-15, -4.22943185705005e-09, 4.47365848661509e-07, -0.000167118347948869, -9.75737393134479e-06, 0.00107215485640301, 0.997457677086496, 0.000634970690540608, -0.000984460276851887, 0.00272861125862635, 0.000327463298601075, 0.000543539355402971, 0.00484918356530342, -0.000110283677595855 },
        { 6.96590932555414e-14, -1.74576774902389e-14, 1.92196577284595e-14, 3.26939833918256e-14, 5.01916542156525e-16, 6.16566929339554e-15, 1.32959494917770e-14, 8.26465620144891e-14, -7.13628908908519e-14, -6.86853532800183e-14, 7.84961676188857e-14, 2.25486545906655e-14, 7.13218789669435e-08, -2.51956664702977e-05, 0.000182896535543305, -0.000131255280592231, -0.00146102979374823, 0.000665429956710379, 0.996451303719956, -0.00120572206382171, -0.00395623973468993, -5.08139182491334e-05, 0.000129114761295371, -6.01961630251971e-05, -0.000742929361162608 },
        { -1.36732998098792e-13, 3.39840443856280e-14, -3.28536215455259e-14, -6.11819063588699e-14, -3.84616825377472e-16, -2.25992338437052e-14, -2.15686570003529e-14, -1.60350077539571e-13, 1.40116790587867e-13, 1.36351864851778e-13, -1.51869387113744e-13, -3.81930213890933e-14, -1.40854047815224e-07, 3.18244811285767e-05, -0.000150186870811027, 0.000409239984479398, 0.000134397764631423, -0.00112678291872807, -0.00106675596169974, 0.994080539629803, 0.00358356420093465, 0.000977441095380152, 0.00104193022837066, 0.0101306463828152, -7.55742879568762e-05 },
        { 2.01570814426309e-13, -5.47164952156193e-14, 5.61792856570594e-14, 9.91308417282676e-14, 2.38695174729217e-15, -5.48630946608067e-16, 4.38868413564996e-14, 2.46598840508149e-13, -2.12108752915122e-13, -1.92817656046979e-13, 2.29220326268021e-13, 7.20161876653428e-14, 2.04978327545577e-07, -2.68643439791477e-05, 0.000410459851765583, -0.00107728679296086, -0.00355441203566668, 0.00274288743880971, -0.00419895859284829, 0.00261759283260597, 0.980720944532289, -0.000300149144342523, -0.00120408410460583, -0.00900424644475212, -0.000857163770742832 },
        { -4.53750945772974e-14, 1.04609504545407e-14, -1.18285980166344e-14, -1.97224258133147e-14, -5.85943235433343e-16, -1.21353543871566e-14, -7.41128865274658e-15, -5.47613764470340e-14, 4.57781688832764e-14, 4.66884223811949e-14, -4.97468185717312e-14, -1.23301355464119e-14, -4.75588681426466e-08, 5.13486429179162e-06, 1.36978344720720e-05, -7.10691441559147e-05, -2.96298107899552e-05, 2.62159186414642e-05, -0.000220777376071446, 0.000416534076097978, -0.000968842787627573, 0.996410092142425, 0.00256120807943584, 0.000739774557448219, -0.00162506482132441 },
        { -4.20563215511845e-15, -1.73661045622669e-16, 1.74239373052870e-15, 1.23942190230786e-15, 7.54425032371605e-16, -1.05025781780542e-14, 4.23827478545464e-15, -8.14414308112729e-16, 2.46570203543743e-15, 7.00937878464680e-15, -2.92436967539461e-15, 3.07177688070630e-15, -4.92279211447035e-09, -1.25322393528624e-05, 5.00677430681503e-05, 9.11337083682596e-05, -0.000861481910555623, 0.000209771719051530, 2.47088665494822e-05, 0.000517491457327162, -8.31010002346812e-05, 0.00266036647685991, 0.992806670366826, -0.00163122453923308, 0.000799871683905318 },
        { 1.54175768660208e-13, -3.69492237200521e-14, 3.50691389157941e-14, 6.64796848614839e-14, 1.56982554782126e-16, 3.46682286900474e-14, 2.12504685837365e-14, 1.78126660417016e-13, -1.55728429266842e-13, -1.55613895307888e-13, 1.69890518592660e-13, 3.94791216752110e-14, 1.59040465151785e-07, -4.41563178415647e-05, 0.000253374919578838, 2.00890290022499e-05, -0.000208770077147119, 0.00117751284492979, 0.000509513578730046, 0.00303011689937482, -0.00225661100582212, -0.00113333590573532, 0.000483172171898605, 0.986463812941902, 0.000669920520101407 },
        { -5.74275679897071e-15, 7.45487021580238e-16, -1.94085679712402e-15, -2.14238902720222e-15, 2.89118184242139e-16, -2.04412297344876e-15, -1.54140336242011e-15, -7.45828736451555e-15, 5.10666826421042e-15, 5.99753817122177e-15, -5.95420990932288e-15, -1.66712421537014e-15, -5.95099359070105e-09, -2.63304029452748e-06, 2.69686493165382e-05, -0.000101475884962398, -0.000237674564902517, 5.03153012644627e-05, -0.000485822475349893, -8.56853805048935e-05, -0.000889225790495962, -0.000319870448946217, -0.000128807713756689, 0.000464315009248955, 0.998205954681428 }
    }; 
    MARTe::float64 B[25][26] = {       
        { -4.55876457713521e-06, 3.94512965739255e-07, -8.71850193261065e-06, -5.46680864508435e-06, -3.69675228392390e-05, -1.05765423268135e-05, 1.39774052483260e-05, -3.76073994176668e-06, -1.83363695564966e-05, 1.27667519524051e-06, 2.08402599417841e-05, -9.65433746361440e-05, -1.78169997983071e-11, 2.67838814871538e-10, -1.75246379288147e-10, 6.87616957755971e-11, -1.30823776378477e-10, 1.79476820530340e-10, 5.76403841170288e-10, 8.82361994471369e-11, -2.23972900340612e-10, -9.48399217283313e-11, 3.08193866025480e-11, 9.47211686034320e-09, -5.08702735822854e-07, -3.87946043017246e-13 },
        { -2.53932129851726e-08, 3.06437520537056e-05, -4.90990101262352e-05, -1.20261733150250e-06, 4.49383088960722e-05, -4.21353836512406e-05, 9.78427013600374e-06, 1.78603025916043e-05, -7.94975965822453e-06, -2.77666401836492e-06, -3.19975837937242e-06, 0.000150805953561381, -6.60688531073640e-11, -3.59742055917371e-10, 7.89488992869898e-11, -1.81006948782472e-10, 1.33585066887919e-10, -4.42477397884170e-10, -8.59960197247376e-10, -1.30975770823422e-10, 1.58135772497175e-10, 1.48145069342317e-10, 6.25513287116259e-11, -1.47959544423944e-08, 7.94621184654603e-07, 6.02203659728923e-13 },
        { -1.45560240477772e-05, 4.65665906804870e-05, 2.99100185798407e-05, -1.57265005051159e-05, -1.92471942178356e-05, 6.43615266081630e-06, -2.63682463144486e-05, 8.42721388028324e-06, 3.91571675889497e-06, -5.93004668710146e-06, 2.58513082545908e-05, -0.000269538293737178, 6.29951247647506e-11, 9.08409142941333e-10, -2.67526965479614e-10, 3.35488069346770e-10, -9.43580561231607e-11, 6.11547457814345e-10, 1.53856325685078e-09, 3.52279279375754e-10, -2.60875026835199e-10, -2.64782372960551e-10, -8.26216698417171e-12, 2.64450721128998e-08, -1.42024081824932e-06, -1.07600716484143e-12 },
        { -1.57410240152254e-06, -6.89908309984781e-06, 5.67526608858876e-05, 5.04091314495144e-06, -1.24530515635759e-05, -5.29417474636751e-05, -1.26049820456131e-05, -3.86226731718043e-06, -3.36633429733870e-06, 9.43859895756923e-06, -1.36748542943391e-06, -0.000334132782661580, 1.48631346785788e-10, 9.56919232913213e-10, -2.60916675559219e-10, 3.86385368652871e-10, -9.15259380275266e-11, 5.98686201406149e-10, 1.88473634358963e-09, 3.80654774495329e-10, -4.33526014121753e-10, -3.28237127256847e-10, -1.52212721007411e-10, 3.27826195330806e-08, -1.76060036223148e-06, -1.33166414318865e-12 },
        { -4.89143930317767e-08, 1.65834551476008e-06, -4.10981699955082e-07, 8.72666597085652e-07, 2.74293455857742e-07, 1.89438600083505e-06, 5.43243960627980e-06, 2.52593722019071e-06, 6.18114879552972e-06, -3.76342593209392e-05, 5.93086023982656e-06, -2.81144470256476e-14, 8.37502131072902e-17, 1.54311231189705e-16, -8.52367416924300e-18, 9.17330035729094e-17, 1.28853488762481e-16, 1.26575545428758e-16, 2.96698844039853e-16, 8.19451120103746e-17, 6.08785897336692e-18, -1.99999985446923e-10, 6.80215566961223e-17, 4.20703434440455e-15, -7.55884780144387e-14, -8.52713587001818e-15 },
        { 2.02685432893871e-06, 4.57495333849787e-05, -5.23569355576589e-06, -2.72136021665660e-06, -3.32661992556028e-05, 6.50826234376368e-06, 6.49495757985544e-05, 5.34502679774637e-06, -6.80749164083284e-06, -1.56463673879938e-05, -6.02124740902292e-06, 0.00108702841319374, -3.21214364857564e-10, -3.04847545645105e-09, 1.30482383776966e-09, -1.28392456836446e-09, 2.19645783455526e-10, -2.37389567922794e-09, -6.17897617538480e-09, -1.28563544096477e-09, 1.24148141622870e-09, 1.06784810479161e-09, 4.36715410834350e-10, -1.06651121675879e-07, 5.72773040279351e-06, 4.34408763844954e-12 },
        { -3.91677359914974e-06, 3.06021118991689e-05, 5.93689364052049e-06, -3.54807582760215e-05, 2.86319594652173e-06, 1.04808355939420e-05, -2.88478302062473e-05, -1.50997513927802e-05, 9.76227720408515e-06, 1.33000213345296e-05, -2.02621701084040e-05, -0.000456006488774917, 1.50371032368948e-10, 1.38005024867176e-09, -5.42549726983410e-10, 3.91155485800368e-10, -1.30699242732630e-10, 1.02112780958161e-09, 2.54128774125089e-09, 5.09274501007056e-10, -5.20024849575811e-10, -4.47960389655441e-10, -2.78997895410582e-10, 4.47399645270252e-08, -2.40277295799065e-06, -1.82455501774509e-12 },
        { 2.32346799052110e-05, -1.52075803193905e-05, -1.07709749131165e-05, -1.16073437673407e-05, 6.79696696708269e-06, 6.03630161317449e-06, -1.85672304200813e-05, 1.67833718018633e-05, -1.09441579261396e-05, 3.56335797562694e-06, 7.74218010941883e-06, -0.000448823627674624, 3.16983657523171e-10, 1.28805655281971e-09, -5.53941777834205e-10, 4.85226862499619e-10, -1.12765938979323e-10, 1.00366536364472e-09, 2.61297247993710e-09, 5.88532713378084e-10, -5.45704368062558e-10, -4.40904202982118e-10, -1.59210131997180e-10, 4.40352107766582e-08, -2.36492440576009e-06, -1.79637198317811e-12 },
        { -8.48012798181673e-06, 2.47470794924454e-05, 1.01237769135463e-06, -5.83372759199747e-06, 3.10665622909317e-05, 2.60025744731629e-05, 5.13232864670066e-05, -1.79849438805468e-05, -1.54252079855798e-05, -1.96821394127700e-06, -5.41338253129085e-06, 0.000291101933880314, -1.26992477887618e-10, -7.90818234005132e-10, 3.85202459581179e-10, -3.34668794850573e-10, 1.77131956851162e-10, -5.70418366851919e-10, -1.57028391496028e-09, -4.12978913743395e-10, 2.37251435785357e-10, 2.85965609509279e-10, 1.17511822652300e-10, -2.85607533404404e-08, 1.53386378240846e-06, 1.15979358291468e-12 },
        { 8.29398368030705e-06, -1.68815173401742e-05, -6.02243016847386e-06, -1.02307959285293e-05, 1.33030148427159e-05, -1.18057526568514e-05, -5.33229185619843e-06, -3.96324526374728e-05, 2.55243685545910e-05, -1.84233361240576e-06, 2.56275626459034e-05, -0.000203033281998844, 1.09515215843473e-10, 5.43446181134574e-10, -2.42673605795756e-10, 1.51732421199769e-10, -2.83854373055907e-12, 4.15009063816465e-10, 1.12504035502219e-09, 1.34130904363840e-10, -1.67886078123504e-10, -1.99450790812567e-10, 2.83051576890175e-11, 1.99201229872273e-08, -1.06981605190713e-06, -7.99075591860229e-13 },
        { -6.84452780612378e-06, -1.19703578089748e-05, 1.94386406242342e-05, -1.35448550721431e-05, -4.42839976526884e-06, -1.92545597276466e-05, 1.97567371707560e-05, 5.55451041199534e-06, 8.93521579272467e-06, -8.78174874064497e-08, -1.76148836923313e-06, -0.000239166154572209, 3.12683225430090e-11, 6.48013746327186e-10, -2.51458061594688e-10, 1.90198625871542e-10, -7.14444618172756e-11, 4.82260086083635e-10, 1.50043045819680e-09, 3.26960819557369e-10, -1.96142800732231e-10, -2.34946078436423e-10, -1.10386278592120e-10, 2.34651916504809e-08, -1.26020517645544e-06, -9.55862507163872e-13 },
        { 5.67883074902304e-06, -2.45491242453676e-07, -6.46138216337780e-06, 1.19404499598275e-05, -7.10630774570541e-06, -2.57779402996093e-05, 1.64935963903239e-05, -3.30304929005843e-05, 1.95516910714471e-05, 8.03565677491390e-06, -4.14517834156209e-06, -0.000494629501115353, 1.86301426842917e-10, 1.42448581903153e-09, -5.95425044575400e-10, 5.79073694924947e-10, -1.43011716327643e-10, 1.05860992185483e-09, 2.83777173036662e-09, 5.47816085265671e-10, -5.40491908263298e-10, -4.85901899049602e-10, -2.14947942716828e-10, 4.85293557193184e-08, -2.60628357362407e-06, -1.97715957269463e-12 },
        { 8.88380945928113e-05, 0.000176504539279277, 5.03860022898554e-05, 8.16713864930947e-05, 4.59765565910985e-05, 0.000172289412098833, 0.000513210699427180, 0.000201417744648256, 5.48322686224754e-05, 2.55098211764592e-05, 4.37087843047632e-05, -2.93255445187232e-05, -4.66715400862332e-16, -3.13079217304013e-15, 1.29335376162090e-15, -1.15983626276243e-15, 5.88486928891938e-16, -2.28529188575411e-15, -6.41529032507319e-15, -1.53046936830568e-15, 1.28803100192247e-15, 1.07614945282874e-15, 4.75052144670857e-16, -1.07488330722469e-13, 5.77240756552655e-12, 4.39040598793776e-18 },
        { 5.83093522198946e-05, 7.24251475128271e-06, 3.13380223873163e-05, -1.20680883646412e-05, 7.41600642270112e-06, -3.83718378374088e-05, -0.000170016963930667, -0.000123492000308688, -0.000144659663926577, -6.82144107029905e-05, -6.16727156797680e-06, -0.00129157993952223, -3.21930825936331e-16, 1.46932001147846e-17, -5.55509119986343e-17, -6.41423748054370e-18, -7.48498860816537e-17, -2.76008463579263e-17, 3.95036826509089e-17, -7.95087662845152e-18, -6.29838892743468e-17, 4.56987686460696e-17, 1.13518423214233e-18, 7.91604656241779e-17, 4.93013729971924e-16, -2.83517485768822e-22 },
        { 1.25320167402092e-05, 1.56126594702481e-06, 2.45560608457959e-05, 4.03428930850915e-06, 1.35571439392962e-05, 1.29871206465034e-05, 3.26098518705023e-05, 1.05790089552510e-05, 1.46078466166648e-05, 2.41851715316284e-05, 1.75291999620630e-05, -0.000647600276463272, 2.50680852608863e-17, -2.58925934106297e-16, -2.75511011779044e-17, 3.00320682400532e-18, -4.94690690408426e-17, -2.05417691811141e-17, 1.38503627702006e-17, 8.62098446764447e-18, -2.80182219626184e-17, 6.86320162372282e-18, 1.96281961489643e-18, 7.70478266048607e-18, 2.11103390567672e-17, -1.77581789467629e-22 },
        { -2.83019572910310e-05, -5.49604576622970e-05, -5.84336168322594e-06, -2.60623371832244e-05, -6.67748201395195e-07, -2.11705060158333e-05, 2.47414574152927e-05, 8.57624991322747e-06, -8.42420315623419e-06, 1.93274041756112e-07, 3.36973438889891e-06, -0.00143950393126281, -1.34093022163587e-17, -6.02958734262048e-16, -9.83576389364757e-17, 3.80787792069010e-17, -1.47240006553310e-16, -8.02653051453562e-17, -1.06178788308901e-17, 2.95269522886684e-17, -2.04019362769657e-17, 1.19682218111227e-16, 4.93509924690984e-18, 8.07552056550339e-17, 7.75376076895297e-18, 8.26937993437210e-22 },
        { -5.94401680006466e-06, 3.31968304068342e-05, -4.09978029902331e-05, 2.19525313713233e-05, -1.75526275345637e-05, 3.30109783899999e-05, 1.71597132510023e-05, -3.13663969621548e-05, 1.35173547735312e-06, 2.22584350917263e-05, -1.01299926493748e-05, 0.00214386387740060, 2.48025785911183e-16, 2.46613860210556e-16, -7.42339025138255e-17, 9.35795754612155e-17, 3.00480344795222e-18, 7.78387385505526e-18, -7.12324955654592e-17, 9.54762672005349e-18, -1.59394397236422e-17, 1.47106466796697e-16, -2.94309272175988e-18, 1.89051162365118e-17, 4.03052100858754e-17, 6.80234267533681e-22 },
        { -1.23049243079287e-05, -1.52947391965687e-05, 3.29857093166150e-07, -1.11337012368917e-05, 6.19997800179737e-06, -1.28681654770723e-05, 2.82480595266718e-06, 2.89601311293929e-06, -1.04056350980783e-05, 6.12398072186289e-06, 1.10835843801359e-05, -0.000640710501540121, -2.80291141095658e-16, -1.44040965691296e-16, 6.45894656773717e-17, -7.03252048253812e-17, -8.80660389638147e-18, -3.10494331771564e-18, 7.49905391219302e-17, 4.71671028343834e-19, -3.76577439809506e-17, -6.96713317983652e-17, -9.90042217440689e-18, 9.40237962944877e-18, -3.44141333782674e-17, -1.22798356127862e-21 },
        { 4.74022386424691e-05, -6.95198288326744e-05, 0.000118306729055617, -4.45515626781167e-05, 4.19058358888349e-05, -6.40705042943883e-05, -1.48092056487461e-05, 6.44614034033686e-05, 1.24373958275210e-05, -3.35665268213723e-05, 2.09852084724914e-05, -0.000661333041489082, 2.64276695043692e-16, -1.02014194732907e-16, -8.90641380649442e-17, -9.30069419227074e-17, -5.39924403677536e-17, 3.29740898333913e-18, -6.03626994863738e-17, 3.52851922333245e-17, -4.44273636587947e-17, 1.25519386744895e-16, 2.00718597088780e-18, -5.74221620748496e-17, 5.35423939935791e-17, 8.65155228345127e-22 },
        { -3.93510893963559e-05, 6.79446413014841e-06, -4.53957468277399e-05, 3.61119300244117e-06, -9.93990528180202e-06, 1.25680823761326e-05, 2.26537222343858e-07, -2.25623665007987e-05, -2.61286569867433e-06, 2.96815184082111e-05, 4.74788637736561e-06, 0.000773456547821485, -3.67067692981379e-18, -5.36426365856766e-16, 2.10044599737212e-17, 4.11052124730614e-17, -9.77856860749559e-18, -5.19974737443425e-18, -1.10723353633254e-16, 1.60254915638490e-18, 5.11319257989183e-17, -9.61919424560232e-17, 1.10236453056702e-17, 2.01910862126231e-17, -5.01966964966643e-17, 1.02819103474815e-21 },
        { -1.44463353625766e-05, 1.97573360961606e-06, -1.60453709108230e-05, 5.52066816350044e-06, -2.31322608101236e-06, 4.01961880814660e-06, -7.69481616719155e-06, -6.97074044722210e-06, -9.60113309581484e-07, 6.17412466590212e-06, 2.49772423815060e-06, 0.000818195659833507, 1.31861519599592e-16, 9.00095711058025e-16, -1.98605481148514e-16, -2.42302695270836e-16, 2.17200708735088e-17, -5.00365214128967e-18, -4.96114562322736e-17, 7.61607160057321e-17, -1.89180428429166e-16, 5.96930823674166e-16, -2.26416785888174e-18, 3.84355031644596e-19, 2.56579182183944e-16, 3.12864144740268e-21 },
        { -5.18722529034274e-05, -0.000112457476765624, 6.05646067547665e-05, -5.39245039694262e-05, 3.82180835406940e-05, -6.29832643766752e-05, 9.69034133945779e-06, 3.76197862410918e-05, -3.10668659243651e-05, -2.36030889733839e-05, 3.30748512164677e-05, -0.00135011085316589, 5.01104735460569e-16, 5.15131888214105e-16, 5.94665781416029e-18, -3.28624902535159e-17, 8.38430325762201e-18, 1.27465472698643e-16, 1.40872678431867e-18, 1.38826018636455e-17, -2.76464318981582e-17, -1.46487144890943e-16, -2.46728203398801e-17, -8.46771019699181e-17, -1.77741527146477e-18, -3.85020821918553e-21 },
        { -2.11483977075054e-05, -4.82100075950383e-05, 2.20610173559762e-05, -1.92470589098716e-05, 1.68315983637601e-05, -2.43379414600836e-05, -4.38737517666454e-06, 1.76173053157352e-05, -4.26241669809431e-06, -2.61503380896360e-06, 1.87777141354715e-05, -0.00177198475850755, -1.46281539708035e-16, -1.89436813836224e-16, -7.54833921325585e-17, 9.59833910786870e-17, -5.38873914368598e-17, -5.38146463539341e-17, -1.22049410989164e-17, 4.95603794883080e-18, -2.52961771732160e-17, 1.88647552802890e-16, 6.95430213517370e-18, 2.91669998177010e-17, 5.49305137025397e-17, 1.66633138802326e-21 },
        { -8.82496544325943e-06, 1.32810713696112e-05, -3.04316148973512e-05, 7.79608437464363e-06, -9.87014961109898e-06, 8.04129015912102e-06, 2.55154603578596e-06, -7.09152413888493e-06, 5.82282734674707e-06, 8.87636404401975e-06, -6.30917598853898e-06, 0.000127386835772894, -9.45590923086697e-17, 4.64027023614965e-16, 5.14337375561646e-17, 2.57544832206586e-17, 1.12377978256982e-16, 2.82813516101844e-17, 5.14343991369413e-17, -1.84295170207356e-17, 2.11572359060559e-17, 3.92533687822646e-17, -4.03881336064928e-18, 2.79910207503890e-17, 1.02826104990990e-17, 2.19384631154445e-22 },
        { 3.10224658961874e-05, 0.000110863601575902, -9.10927492948126e-05, 5.47544785774958e-05, -4.47635517217152e-05, 7.34087501590873e-05, -5.50816481184444e-06, -4.64058630394715e-05, 2.06745453283629e-05, 2.95787938354539e-05, -2.96853052454028e-05, 0.00200922456689715, 1.73303792287679e-16, 3.51776036115473e-16, -8.66614682320359e-17, -4.69324981527001e-17, 6.12296005075819e-17, 8.41184161502268e-17, 3.38773263204525e-17, 1.86827585001291e-17, -9.28873569652735e-17, 7.22820193565759e-17, -2.49654605574245e-17, 1.24478000104901e-16, 3.28985203795902e-18, -2.43495022120825e-21 }
    }; 
    MARTe::float64 C[25] = { -0.0645432991028290, 0.100820117900960, -0.180197665079602, -0.223381830309748, -8.90698693903689e-09, 0.726724254476453, -0.304859558263331, -0.300057438481079, 0.194613904785632, -0.135736339023450, -0.159892602247963, -0.330680588783459, 0.000252785851394151, 0.000117493671858586, -0.00124666649614456, 0.000171779305158736, 0.000103080357267749, -0.000505436463971901, 3.78979037309295e-05, 0.000540336812810489, 7.36422707488994e-05, -0.000216284688104698, 0.000280402380454395, -0.000181272804232789, -0.000193931604129159 }; 
    MARTe::float64 D[26] = { -2.30013740179995e-06, 1.69072686845621e-05, -1.24033495195417e-05, 6.36910009295498e-06, -3.31294207407231e-06, 1.25513039259846e-05, 3.56760545646621e-05, 8.38076962741951e-06, -9.29036127199565e-06, -1.03414653421520e-05, -4.71333754318479e-06, 0.000747528525014595, -2.65450141891191e-10, -2.12902307549145e-09, 8.75746637770140e-10, -8.37902793059361e-10, 1.93212731903306e-10, -1.61692954161051e-09, -4.25607507349910e-09, -8.83220667495987e-10, 8.39309780897608e-10, 7.34338606150200e-10, 2.99028517534226e-10, -7.33419230963241e-08, 3.93884994187344e-06, 2.98653669678991e-12 };
    /**
     * State
     */
    MARTe::float64 x_hat;
    MARTe::float64 state[25] = {0.0};

    /**
     * Utilty variable
     */
    MARTe::float64 temp_state[25] = {0.0};
    MARTe::float64 t;
};
}
/*---------------------------------------------------------------------------*/
/*                        Inline method definitions                          */
/*---------------------------------------------------------------------------*/

#endif /* VSGAMEXTREMUM_H_ */

